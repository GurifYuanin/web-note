"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _readOnlyError(e){throw new Error('"'+e+'" is read-only')}var IMAGES_DIR="../../images/",CSS_DIR="../../css/",HTML_DIR="../",PHONE_WIDTH=600,arrowDownBrightFileName="slide_down",arrowDownDarkFileName="slide_down_dark",arrowUpBrightFileName="slide_up",arrowUpDarkFileName="slide_up_dark",arrowDownBrightImage=IMAGES_DIR+arrowDownBrightFileName+".png",arrowUpBrightImage=IMAGES_DIR+arrowUpBrightFileName+".png",arrowDownDarkImage=IMAGES_DIR+arrowDownDarkFileName+".png",arrowUpDarkImage=IMAGES_DIR+arrowUpDarkFileName+".png",catalogBrightImage=IMAGES_DIR+"catalog.png",catalogDarkImage=IMAGES_DIR+"catalog_dark.png",brightCss=CSS_DIR+"bright.css",darkCss=CSS_DIR+"dark.css",brightCodeStyle=CSS_DIR+"styles/agate.css",darkCodeStyle=CSS_DIR+"styles/default.css";function formatDate(e){if((e=e||new Date)instanceof Date){var t=e.getFullYear(),n=e.getMonth()+1;_readOnlyError("month"),n=n<10?"0"+n:n;var a=e.getDate();_readOnlyError("day"),a=a<10?"0"+a:a;var r=e.getHours();_readOnlyError("hour"),r=r<10?"0"+r:r;var i=e.getMinutes();_readOnlyError("minute"),i=i<10?"0"+i:i;var o=e.getSeconds();return _readOnlyError("second"),t+"-"+n+"-"+a+" "+r+":"+i+":"+(o=o<10?"0"+o:o)}return/^\d+$/.test(e)?formatDate(new Date(Number.parseInt(e))):e}hljs&&(hljs.initHighlightingOnLoad?hljs.initHighlightingOnLoad():$(function(){hljs&&hljs.initHighlightingOnLoad()}));var LASTNAMES="赵 钱 孙 李 周 吴 郑 王 冯 陈 褚 卫 蒋 沈 韩 杨 朱 秦 尤 许 何 吕 施 张 孔 曹 严 华 金 魏 陶 姜 戚 谢 邹 喻 柏 水 窦 章 云 苏 潘 葛 奚 范 彭 郎 鲁 韦 昌 马 苗 凤 花 方 俞 任 袁 柳 酆 鲍 史 唐 费 廉 岑 薛 雷 贺 倪 汤 滕 殷 罗 毕 郝 邬 安 常 乐 于 时 傅 皮 卞 齐 康 伍 余 元 卜 顾 孟 平 黄 和 穆 萧 尹 姚 邵 湛 汪 祁 毛 禹 狄 米 贝 明 臧 计 伏 成 戴 谈 宋 茅 庞 熊 纪 舒 屈 项 祝 董 梁 杜 阮 蓝 闵 席 季 麻 强 贾 路 娄 危 江 童 颜 郭 梅 盛 林 刁 锺 徐 邱 骆 高 夏 蔡 田 樊 胡 凌 霍 虞 万 支 柯 昝 管 卢 莫 经 房 裘 缪 干 解 应 宗 丁 宣 贲 邓  郁 单 杭 洪 包 诸 左 石 崔 吉 钮 龚 程 嵇 邢 滑 裴 陆 荣 翁 荀 羊 於 惠 甄 麴 家 封 芮 羿 储 靳 汲 邴 糜 松 井 段 富 巫 乌 焦 巴 弓 牧 隗 山 谷 车 侯 宓 蓬 全 郗 班 仰 秋 仲 伊 宫 宁 仇 栾 暴 甘 钭 历 戎 祖 武 符 刘 景 詹 束 龙 叶 幸 司 韶 郜 黎 蓟 溥 印 宿 白 怀 蒲 邰 从 鄂 索 咸 籍 赖 卓 蔺 屠 蒙 池 乔 阳 郁 胥 能 苍 双 闻 莘 党 翟 谭 贡 劳 逄 姬 申 扶 堵 冉 宰 郦 雍 却 璩 桑 桂 濮 牛 寿 通 边 扈 燕 冀 僪 浦 尚 农 温 别 庄 晏 柴 瞿 阎 充 慕 连 茹 习 宦 艾 鱼 容 向 古 易 慎 戈 廖 庾 终 暨 居 衡 步 都 耿 满 弘 匡 国 文 寇 广 禄 阙 东  欧 殳 沃 利 蔚 越 夔 隆 师 巩 厍 聂 晁 勾 敖 融 冷 訾 辛 阚 那 简 饶 空 曾 毋 沙 乜 养 鞠 须 丰 巢 关 蒯 相 查 后 荆 红 游 竺 权 逮 盍 益 桓 公 万俟 司马 上官 欧阳 夏侯 诸葛 闻人 东方 赫连 皇甫 尉迟 公羊 澹台 公冶 宗政 濮阳 淳于 单于 太叔 申屠 公孙 仲孙 轩辕 令狐 钟离 宇文 长孙 慕容 司徒 司空 召 有 舜 叶赫那拉 丛 岳 寸 贰 皇 侨 彤 竭 端 赫 实 甫 集 象 翠 狂 辟 典 良 函 芒 苦 其 京 中 夕 之 章佳 那拉 冠 宾 香 果 依尔根觉罗 依尔觉罗 萨嘛喇 赫舍里 额尔德特 萨克达 钮祜禄 他塔喇 喜塔腊 讷殷富察 叶赫那兰 库雅喇 瓜尔佳 舒穆禄 爱新觉罗 索绰络 纳喇 乌雅 范姜 碧鲁 张廖 张简 图门 太史 公叔 乌孙 完颜 马佳 佟佳 富察 费莫 蹇 称 诺 来 多 繁 戊 朴 回 毓 税 荤 靖 绪 愈 硕 牢 买 但 巧 枚 撒 泰 秘 亥 绍 以 壬 森 斋 释 奕 姒 朋  求 羽 用 占 真 穰 翦 闾 漆 贵 代 贯 旁 崇 栋 告 休 褒 谏 锐 皋 闳 在 歧 禾 示 是 委 钊 频 嬴 呼 大 威 昂 律 冒 保 系 抄 定 化 莱 校 么 抗 祢 綦 悟 宏 功 庚 务 敏 捷 拱 兆 丑 丙 畅 苟 随 类 卯 俟 友 答 乙 允 甲 留 尾 佼 玄 乘 裔 延 植 环 矫 赛 昔 侍 度 旷 遇 偶 前 由 咎 塞 敛 受 泷 袭 衅 叔 圣 御 夫 仆 镇 藩 邸 府 掌 首 员 焉 戏 可 智 尔 凭 悉 进 笃 厚 仁 业 肇 资 合 仍 九 衷 哀 刑 俎 仵 圭 夷 徭 蛮 汗 孛 乾 帖 罕 洛 淦 洋 邶 郸 郯 邗 邛 剑 虢 隋 蒿 茆 菅 苌 树 桐 锁 钟 机 盘 铎 斛 玉 线 针 箕 庹 绳 磨 蒉 瓮 弭 刀 疏 牵 浑 恽 势 世 仝  同 蚁 止 戢 睢 冼 种 涂 肖 己 泣 潜 卷 脱 谬 蹉 赧 浮 顿 说 次 错 念 夙 斯 完 丹 表 聊 源 姓 吾 寻 展 出 不 户 闭 才 无 书 学 愚 本 性 雪 霜 烟 寒 少 字 桥 板 斐 独 千 诗 嘉 扬 善 揭 祈 析 赤 紫 青 柔 刚 奇 拜 佛 陀 弥 阿 素 长 僧 隐 仙 隽 宇 祭 酒 淡 塔 琦 闪 始 星 南 天 接 波 碧 速 禚 腾 潮 镜 似 澄 潭 謇 纵 渠 奈 风 春 濯 沐 茂 英 兰 檀 藤 枝 检 生 折 登 驹 骑 貊 虎 肥 鹿 雀 野 禽 飞 节 宜 鲜 粟 栗 豆 帛 官 布 衣 藏 宝 钞 银 门 盈 庆 喜 及 普 建 营 巨 望 希 道 载 声 漫 犁 力 贸 勤 革 改 兴 亓 睦 修 信 闽 北 守 坚 勇 汉 练 尉 士 旅  五 令 将 旗 军 行 奉 敬 恭 仪 母 堂 丘 义 礼 慈 孝 理 伦 卿 问 永 辉 位 让 尧 依 犹 介 承 市 所 苑 杞 剧 第 零 谌 招 续 达 忻 六 鄞 战 迟 候 宛 励 粘 萨 邝 覃 辜 初 楼 城 区 局 台 原 考 妫 纳 泉 老 清 德 卑 过 麦 曲 竹 百 福 言 第五 佟 爱 年 笪 谯 哈 墨 南宫 赏 伯 佴 佘 牟 商 西门 东门 左丘 梁丘 琴 后 况 亢 缑 帅 微生 羊舌 海 归 呼延 南门 东郭 百里 钦 鄢 汝 法 闫 楚 晋 谷梁 宰父 夹谷 拓跋 壤驷 乐正 漆雕 公西 巫马 端木 颛孙 子车 督 仉 司寇 亓官 鲜于 锺离 盖 逯 库 郏 逢 阴 薄 厉 稽 闾丘 公良 段干 开 光 操 瑞 眭 泥 运 摩 伟 铁".split(" "),IDIOMS="克父伤母 性刚果断 少年艰难 中年劳雷 晚年吉祥 孤独 幼年多灾 中年成功 离祖大吉 出外贵人现 环境良好 多刑 克妻伤子 怀才不遇 忌车怕水 多灾厄 英俊佳人 环境良好 温和贤淑 荣贵成功 病弱短寿 多灾厄 多刑克 中年多灾 晚年吉祥 英俊才人 温和伶俐 中年成功隆昌 贵人明现 欠子之字 忧心劳神 身弱多病 中年劳苦 晚年吉祥 忌车怕水 多灾厄 或身弱多病 中年奔波 晚年幸福 孤独 刑克父母 少年艰难 中年成功隆昌 智勇双全 家破人亡 困苦一生 有子亦不孝 了然一生 性刚 奔走他乡吉利 中年有灾厄 晚年享福 多才巧智 清雅荣贵 成功隆昌 环境良好 克偶伤子 双妻之格 中年隆昌 晚年劳神 品性温良 晚婚大吉 环境良好 中年多灾 晚年隆昌 精明公正 义利分明 官运旺盛 成功隆昌 环境良好 忧心劳神 事劳无功 病弱短寿 或牢狱之字 孤独 幼年辛苦 出外逢贵得财 中年多劳 晚年成功隆昌 一生清雅荣贵 但不善仁和 子孙兴旺 二子吉祥 身弱短寿 幼年辛苦 中年隆昌 晚年劳神 少乐之字 少年艰难 出外大吉 性刚多灾 刑偶伤子 晚年享福 清秀伶俐 多才巧智 早婚不宜 一生清闲幸福 性刚果断 常有祸端 有牢狱之灾 上下敦睦 一生平凡 保守之格 子孙兴旺 吉祥幸福 抱负大 志气强 有精神失常之灾 杀人被杀之字 事劳无功 奔波劳苦 多灾难 出国大吉 晚年享福 刑克父母 刑妻伤子 晚婚大吉 中年隆昌 晚年多灾 出国之格 一生清雅荣贵 中年成功隆昌 福寿之字 食禄齐美 口才伶俐 重情失败 中年劳神 晚年吉祥 过房之字 少年艰难 中年成功隆昌 双妻之格 晚年劳神 刑偶欠子 一生清贵 出外逢贵得财 子孙兴旺 不祥之字 忌车怕水 恶死凶亡 一生难得幸福 刑偶伤子 有才能 奔波劳苦 有晚福 智勇双全 清雅荣贵 中年劳 晚年隆昌 女人温和贤淑 清雅荣贵 多才精明 中年成功隆昌 富贵荣华 但常人难受 不祥之字 暗淡无光 多劳困苦 事劳无功 孤独 刑偶欠子 环境良好 秀气伶俐 晚年劳神 天生聪明 清雅荣贵 环境良好 一生享福 欠子之字 一生清雅多才 刑偶伤子 中年多灾 晚年吉庆 出外逢贵 重义信用 中年多灾 晚年隆昌 出国之字 名利双收 学识渊博 官运旺盛 荣贵之字 孤独长寿 中年吉庆 晚年忧心劳神或潦倒 孤独 父母无缘 少年艰难 中年隆昌 技术大吉 欠子之字 技术方面大吉 贵人明现 成功隆昌 环境良好 出外大吉 欠子之字 中年成功隆昌 环境良好 奔波劳苦 一生多灾 难得幸福 晚年享福 一生清荣 温和贤淑 中年劳神 晚年隆昌 女人薄幸多灾 口快心直 刑偶伤子 中年多灾 晚年享福 杀人被杀 病弱短寿 刑偶伤子 女人多灾 守寡之字 理智充足 重情失败 中年劳 晚年吉祥 智勇双全 一生清雅荣贵 幼年多灾 中年成功隆昌 事劳无功 忧心劳神 中年多灾 晚年劳神 忍耐勤俭 应付自如 清雅伶俐 中年劳 晚年吉祥 性格复杂 多愁少乐 中年多灾 忌车怕水 晚年吉祥 幼年辛苦 义利分明 中年奔波隆昌 小心灾厄 忌车怕水 孤独 克父 一生安稳享福 有爱情厄 子孙兴旺 忧心劳神 一生多灾 有爱情烦恼 晚年吉祥 忌车怕水 有才能但无好运 潦倒一生 声名显赫 富贵增荣 一生享福 但常人难受 刑克父母 兄弟无缘 中年劳 晚年成功隆昌 二子吉祥 一生清雅荣贵 中年成功隆昌 多才巧智 晚年劳神 清秀巧智 一生清雅荣贵 女人助夫 环境良好 奔波劳苦 忧心劳神 一生困苦 病弱短寿 忧心劳神 怀才不遇 中年劳苦 晚年吉庆 清雅荣贵 一生平凡 子孙兴旺 中年成功隆昌 精诚之字 潦倒困苦 刑偶之字 中年劳 晚年享福 任性或怪性 性刚消极 中年劳 晚年隆昌 秀气巧妙 多才巧智 中年成功隆昌 晚年劳神 平凡之字 环境良好 克己助人 福寿兴家 妻贤子贵 荣华之字 刑偶欠子 身弱多灾 晚婚大吉 中年劳神 晚年隆昌 平凡之字 聪明伶俐 清雅荣贵 中年成功隆昌 晚年昌盛 二子吉祥 幼年多灾 中年劳苦 晚年隆昌 欠子之字 一生平凡 英俊才人 多才巧智 中年虽困苦 成功隆昌 晚年子孙兴旺 清雅伶俐 出外逢贵 中年多灾 二子吉祥 女人刑偶伤子 薄幸之字 不祥之字 多灾难 难得幸福 一生困苦 晚年有福 奔波劳苦 浮沉不定 常有祸端 短寿之字 杀人或被杀".split(" ");function getChineseName(){return LASTNAMES[Math.floor(Math.random()*LASTNAMES.length)]+IDIOMS[Math.floor(Math.random()*IDIOMS.length)].substr(Math.floor(3*Math.random()),Math.ceil(2*Math.random()))}function Notify(){this.win=document.createElement("div"),this.win.setAttribute("class","notify"),this.win.style.opacity="0",this.win.style.zIndex="3",document.body.appendChild(this.win),this.timeout=null}Notify.prototype.info=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.duration=e.duration||2e3;var t=this.win,n="#2db7f5";switch(t.innerText=e.content,t.style.opacity="1",t.style.transition="all 1s",e.type){case"error":_readOnlyError("color"),n="#ed4014";break;case"success":_readOnlyError("color"),n="#19be6b";break;case"warning":_readOnlyError("color"),n="#ff9900"}t.style.backgroundColor=n,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.style.opacity="0"},e.duration)};var path={CWDS:function(){var e=window.location.pathname;return e.substring(0,e.lastIndexOf("/")).split("/").filter(Boolean)}(),resolve:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return"/";for(var a=[],r=t[0].startsWith("/")?[]:path.CWDS.map(function(e){return e}),i=0;i<t.length;i++)t[i]&&(t[i].includes("/")?a.push.apply(a,_toConsumableArray(t[i].split("/").filter(Boolean))):a.push(t[i]));for(var o=0;o<a.length;o++){var l=a[o];switch(l){case".":break;case"..":if(0===r.length)throw new Error("无法往根路径上一级");r.pop();break;default:r.push(l)}}return"/"+r.join("/")}},SINGLE_TAG_ELEMENTS=["img","input"];function copy(e){var t=document.createElement("textarea");document.body.appendChild(t),DataTransfer&&window.clipboardData instanceof DataTransfer?window.clipboardData.setData("text",e):(t.value=e,t.select(),document.execCommand("copy")),document.body.removeChild(t)}function wrapByTag(e,t,n){var a="[object string]"===Object.prototype.toString.call(e).toLowerCase(),r=SINGLE_TAG_ELEMENTS.indexOf(t)>=0;if(!t){if(!e)throw new ReferenceError("缺少参数");if(!a)throw new TypeError("标签类型应该为 string");t=e}var i="";if(n&&"[object object]"===Object.prototype.toString.call(n).toLowerCase())for(var o in n)n.hasOwnProperty(o)&&n[o]&&(i+=" "+o+'="'+n[o]+'"');return"<"+t+i+">"+(r?"":(a?e:e.join(""))+"</"+t+">")}function filterRepeatArray(e){var t=[];if(window.Set)t.push.apply(t,_toConsumableArray(new Set(e)));else for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(el);return t}function flatArray(e){for(var t=[],n=0;n<e.length;n++)Array.isArray(e[n])?t.push.apply(t,_toConsumableArray(flatArray(e[n]))):t.push(e[n]);return t}function filterName(e){return e.replace(/[\s$@#&;()\/.'"]/g,"")}function getSuffix(e){return e.substring(e.lastIndexOf(".")+1)}function getFileName(e){var t=e.lastIndexOf("/")+1,n=e.lastIndexOf(".");return e.substring(t,n)}function getViewport(e){return{width:(e=e||window).innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:e.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function scrollTo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",t=arguments.length>1?arguments[1]:void 0;(t||$("html, body")).animate({scrollTop:$(e).offset().top},500)}function isPhone(){return getViewport().width<PHONE_WIDTH}$(function(){var e=new Notify;if("file:"!==window.location.protocol.toLowerCase()){var t=document.createElement("script");t.setAttribute("src","/static/js/auto-push-to-baidu.js"),document.head.appendChild(t)}if(!$("meta[name=viewport]")){var n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content","width=device-width, initial-scale=1"),document.head.appendChild(n)}var a=document.createElement("link");a.setAttribute("rel","shortcut icon"),a.setAttribute("href",IMAGES_DIR+"web-note.ico"),a.setAttribute("type","image/vnd.microsoft.icon"),document.head.appendChild(a);for(var r=!1,i=window.location.href,o=decodeURI(i.substring(i.lastIndexOf("/")+1,i.lastIndexOf("."))),l=$("body"),s=$("#sidebar"),c=$("#hideCatalog"),d=$("#showCatalog"),u=$("#catalog"),p=$("#title"),h=$("#container"),m=["HTML","CSS","Javascript","Three","NodeJS","VueJS","移动Web","工具","协议","安全","测试","后端","数据库","算法","Linux","AfterEffect","C4D","其他"],g=[["DOM","meta标签","href和src","link","HTML语义化","HTML5","表单元素","canvas","svg","cookie","PWA","Web Component"],["选择器","盒式模型","元素种类","元素定位","元素居中","伪类伪元素","格式化上下文","CSS Hack","CSS3","CSS怪异现象","颜色和长度","百分比"],["数据类型","数组字符串与对象","循环","作用域链","原型链","闭包","事件","异常","复制粘贴","module","Javascript进程","RegExp","XMLHttpRequest","Class","JSONP","this","jquery","promise","Generator","async","Typescript"],["three","geometry","material","object","scene","camera","light"],["commonJS","package.json","path","file system","process","koa","webpack","plugins","loader"],["安装","实例","模版","组件","mixins","router","vuex"],["响应式布局","响应式图片","bootstrap","viewport","1px"],["抓包工具","chrome devtools","git","sublime 插件","VSCode"],["HTTP","TCP"],["CSRF","XSS","同源策略"],["karma","Vue Test Utils"],["Thinkphp5.1","htaccess","nginx","Collection","python2","Django"],["redis"],["树和图","排序","队列和栈","算法规范"],["指令","目录结构"],["effect"],["对象","样条","纹理","标签","模拟","变形器","造型","结合实景"],["路径匹配","浏览器渲染","设计策略","头疼的兼容","命名规范","字符编码","bat","软件设计师","截屏"]],f="",y="",v=0;v<m.length;v++){f+=wrapByTag([wrapByTag("","img",{src:m[v].includes(o)?r?arrowUpBrightImage:arrowUpDarkImage:r?arrowDownBrightImage:arrowDownDarkImage}),m[v]],"h3"),y="";for(var b=0;b<g[v].length;b++)y+=wrapByTag(wrapByTag(g[v][b],"a",{href:path.resolve(HTML_DIR,m[v],g[v][b]+".html")}),"div",{id:g[v][b]===o?"currentItem":null});f+=wrapByTag(y,"section")}s.append(f),u.append('<section id="searchContainer">\n    <input id="searchInput" type="text" placeholder="搜索文章"/>\n    <div id="searchClear">x</div>\n    <section id="searchResult"></section>\n    </section>');var w=$("#searchInput"),C=$("#searchResult"),T=$("#searchClear");T.click(function(){w.val(""),C.slideUp()});var I=0;function A(e){for(var t=[],n=[],a=0;a<g.length;a++)for(var r=0;r<g[a].length;r++){var i=new RegExp(e,"i"),o=g[a][r];if(i.test(o)){var l=wrapByTag(wrapByTag([o.replace(i,wrapByTag(o.match(i),"span",{class:"filteredHightLight"})),wrapByTag("("+m[a]+")","span",{class:"filteredCategory"})],"a",{href:path.resolve(HTML_DIR,m[a],o+".html"),target:"_blank"}),"li");n.push(Math.abs(o.length-e.length)),t.push(l)}}for(var s=new Array(t.length),c=t.length-1;c>=0;c--){for(var d=Number.MAX_SAFE_INTEGER,u=-1,p=0;p<t.length;p++)d>=n[p]&&(d=n[p],u=p);s.push(t[u]),t.splice(u,1),n.splice(u,1)}return s.join("")}C.css("display","none"),w.keyup(function(e){var t=w.val()||"",n=""===t.trim()?"":A(t);if(""===n.trim()){if(C.slideUp(),""===t.trim())return;for(var a=filterRepeatArray(t.split("")),r=0;r<a.length;r++){var i=A(a[r]);n=i.length>n.length?i:n}if(""===n)return}(e.keyCode<37||e.keyCode>40)&&13!==e.keyCode&&(C.html(n),C.stop(!0,!0).slideDown());var o=$("#searchResult li");switch(e.keyCode){case 13:var l=o.toArray().findIndex(function(e){return"rgb(239, 239, 239)"===e.style.backgroundColor});o.length>l&&(l=-1===l?0:l,window.open(o.eq(l).children().eq(0).attr("href")));break;case 37:break;case 38:I>0&&I--,I<o.length&&o.eq(I).css("background-color",""),I>0&&o.eq(I-1).css("background-color","rgb(239, 239, 239)");break;case 39:break;case 40:I>0&&o.eq(I-1).css("background-color",""),I<o.length&&(o.eq(I).css("background-color","rgb(239, 239, 239)"),I++);break;default:I=0}});var x=$("#sidebar h3");x.each(function(){var e=$(this),t=e.children();e.click(function(){var n=getFileName(t.attr("src")),a=n===arrowDownBrightFileName||n===arrowDownDarkFileName;t.attr("src",a?r?arrowUpBrightImage:arrowUpDarkImage:r?arrowDownBrightImage:arrowDownDarkImage),e.next().slideToggle("slow")})});for(var k=0;k<g.length;k++)g[k].includes(o)||x.eq(k).click();"index"===o||/.+\/html\/$/.test(o)||setTimeout(function(){scrollTo("#currentItem",s);var e=$("#currentItem > a");e.animate({"font-size":"1.25rem","font-weight":900},1e3,function(){e.animate({"font-size":"1rem","font-weight":"bold"},1e3)})},500),p.after('<div class="lastModify"><img style="height: 25px;" src="'.concat(IMAGES_DIR+"modify.svg",'"></div>\n    <div class="lastModify">共  ').concat(h.text().replace(/[\s\r\n]/g,"").length,' 字</div>\n    <div class="lastModify">').concat(document.lastModified,'</div>\n    <div class="switch">\n    <input id="toggle" type="checkbox" title="切换主题">\n    <label for="toggle"><i></i></label>\n    <span></span>\n    </div>')),$("#toggle").click(function(){E.attr("href",r?darkCss:brightCss),D.attr("href",r?brightCodeStyle:darkCodeStyle),c.attr("src",r?catalogDarkImage:catalogBrightImage),S.each(function(e,t){var n=t.src;t.src=r?n.substring(0,n.lastIndexOf("."))+"_dark.png":n.substring(0,n.lastIndexOf("_"))+".png"}),_.toggleClass("codeDark"),r=!r}),$(".hljs").each(function(t,n){var a=document.createElement("div"),r=document.createElement("div");a.setAttribute("class","codeType"),r.setAttribute("class","codeCopy codeDark"),r.setAttribute("title","点击复制代码");var i=n.getAttribute("class").split(" ")[0];a.innerText=i,r.onclick=function(){copy(n.innerText.substring(1+i.length).trim()),e.info({content:"已经复制到剪切板"})};var o=document.createElement("div");o.setAttribute("class","codeTypeCopyContainer"),o.appendChild(a),o.appendChild(r),n.prepend(o)});var E=$("link").eq(2),D=$("link").eq(1),S=$("#sidebar h3 img"),_=$(".codeCopy");function M(e,t,n,a){var r,i,o=(t-e)/n,l=1e3*a/n;e<t?(r=4,i=1/n):(r=5,i=-1/n);for(var s=e,c=0;s!==t;s+=o,r+=i,c+=l)!function(){var e=s+"%",t="0 "+r+"%";setTimeout(function(){h.css({width:e,margin:t})},c)}();setTimeout(function(){r+=i,h.css({width:t+"%",margin:"0 "+r+"%"})},1e3*a)}function N(e){s.animate({width:"0",padding:"0"},"slow",function(){s.css("display","none"),d.css("display",isPhone()?"none":"block"),"function"==typeof e&&e()}),M(65,90,25,1)}function R(){var e,t=getViewport().width;isPhone()?(t="100%",e="0"):(t="25%",e="1%"),d.css("display","none"),s.css("display","inline-block"),s.animate({width:t,padding:e},"slow"),getViewport().width>600&&M(90,65,20,.5)}c.attr({title:"点击隐藏侧栏",src:r?catalogBrightImage:catalogDarkImage}),d.attr("title","点击显示侧栏"),c.click(N),d.click(R),l.append('<div id="phoneMenu"><a class="self" href="/" >返回首页</a><a id="phoneShowCatalog" href="javascript:void(0)">返回导航</a></div>');var L=$("#phoneMenu"),O=$("#phoneShowCatalog");function j(){return"100%"===s.css("width")}window.addEventListener("resize",function(){var e=getViewport().width;e<1e3&&"none"!==s.css("display")&&!j()?N():e>=1e3&&j()&&N(R),isPhone()?d.css("display","none"):("0px"===s.css("width")&&d.css("display","block"),L.stop().slideUp())});var B=null,H=document.body.getBoundingClientRect().top;window.addEventListener("scroll",function(e){isPhone()&&(B&&clearTimeout(B),B=setTimeout(function(){var e=document.body.getBoundingClientRect().top;e>H?L.stop().slideDown():L.stop().slideUp(),H=e},20))}),O.click(function(){j()||R(),scrollTo()}),$("a").not(".self").attr("target","_blank");for(var U=$("#container>section"),q=$("#container>section>h2"),P="",W="",G=1;G<=4;G++)W+='<div class="block block'+G+'"></div>';W='<div id="subTitleToggle">'+W+"</div>";var F=decodeURI(i.substring(i.indexOf("#")+1));q.each(function(e,t){var n=U.eq(e).children("h3"),a=t.innerText,r=filterName(a);$(this).wrap('<a\n      style="height: 50%; margin: 0; padding: 0; text-decoration: none; color: #000;"\n      id="'.concat(r,'"\n      href="#').concat(r,'"\n    ></a>')),t.onclick=function(){scrollTo("#"+r)},a===F&&t.click(),P+='\n      <div class="subTitleItem">\n        '.concat(a,"\n        ").concat(n.length>0?'<div class="subSubTitleItem">\n        '.concat(n.toArray().map(function(e){return"<div>".concat(e.innerText,"</div>")}).join(""),"\n        </div>"):"","\n      </div>\n    ")}),P='<div id="subTitleNav">'+P+'<div class="subTitleItem">返回顶部</div></div>',l.append(P+W);var V=$(".subTitleItem"),J=$("#subTitleToggle"),X=$("#subTitleToggle>div.block");V.each(function(e,t){var n=filterName(q.eq(e).text()),a=n?"#"+n:"body";t.onclick=function(){scrollTo(a)}});var z=!1,Y=50,K=100;document.body.onclick=function(e){if("subTitleItem"!==e.target.getAttribute("class")){var t=0;z=!0;for(var n=function(e){setTimeout(function(){V.eq(e).fadeOut(100)},t)},a=0;a<V.length;a++,t+=Y)n(a);for(var r=function(e){setTimeout(function(){X.eq(e).show("fast")},t)},i=0;i<X.length;i++,t+=K)r(i);setTimeout(function(){z=!1},V.length*Y+X.length*K),!1}},J.attr("title","点击显示子标题导航"),J.click(function(e){for(var t=0,n=function(e){setTimeout(function(){X.eq(e).hide("fast")},t)},a=X.length;a>=0;a--,t+=K)n(a);for(var r=function(e){setTimeout(function(){z||V.eq(e).fadeIn(100)},t)},i=V.length-1;i>=0;i--,t+=Y)r(i);!0,e.stopPropagation(),e.cancelBubble=!0});var Q="没有了",Z="没有了",ee="",te="",ne=flatArray(g),ae=ne.includes(o)?ne.indexOf(o):0;0!==ae&&(Q=ne[ae-1],ee=m[g.findIndex(function(e){return e.includes(Q)})]),ae!==ne.length-1&&(Z=ne[ae+1],te=m[g.findIndex(function(e){return e.includes(Z)})]);var re=wrapByTag(Q,"a",{href:"没有了"===Q?"javascript:void(0)":path.resolve(HTML_DIR,ee,Q+".html")}),ie=wrapByTag(Z,"a",{href:"没有了"===Z?"javascript:void(0)":path.resolve(HTML_DIR,te,Z+".html")});function oe(e){var t=window.getComputedStyle?getComputedStyle(e).width:e.currentStyle.width;return 0===(t=Number.parseInt(t))?e.clientWidth||e.scrollWidth||e.offsetWidth||500:t}function le(e){return e?e.naturaWidth?.2*e.naturaWidth:.2*oe(e):50}function se(){Ie.style.opacity=Ae.style.opacity=0,pe&&clearTimeout(pe),pe=setTimeout(function(){Ie.style.display=Ae.style.display="none"},1e3)}function ce(e,t){var n=fe.lastChild;if(n instanceof HTMLImageElement&&e){var a=getViewport(),r=a.height/2-e.clientY,i=a.width/2-e.clientX;r=t?r/2:Math.sqrt(r),i=t?i/2:Math.sqrt(i);var o=Number.parseInt(n.style.paddingLeft),l=Number.parseInt(n.style.paddingRight),s=Number.parseInt(n.style.paddingTop),c=Number.parseInt(n.style.paddingBottom);t?o+=i-l:o-=i-l,t?l-=i:l+=i,t?c+=r-s:c-=r-s,t?s+=r:s-=r,n.style.paddingLeft=Math.max(o,0)+"px",n.style.paddingRight=Math.max(l,0)+"px",n.style.paddingTop=Math.max(s,0)+"px",n.style.paddingBottom=Math.max(c,0)+"px"}}function de(){var e=fe.lastChild,t=oe(e);e.style.width=t-le(e)+"px"}function ue(t){if(fe.lastChild instanceof HTMLImageElement)for(var n=fe.lastChild,a=$("#container figure>img").toArray(),r=0;r<a.length;r++)if(a[r].src===n.src){t?r-1>=0?n.src=a[r-1].src:e.info({content:"已经是第一张了"}):r+1<a.length?n.src=a[r+1].src:e.info({content:"已经是最后一张了"});break}}$(".refer").after('<div id="footer" ><div class="prePage">上一篇：'+re+'</div><div class="nextPage">下一篇：'+ie+"</div></div>");var pe=null,he=null,me=null,ge=document.createElement("div"),fe=document.createElement("div"),ye=document.createElement("div"),ve=document.createElement("div"),be=document.createElement("div"),we=document.createElement("div"),Ce=document.createElement("div"),Te=null;Ce.innerText="↓",Ce.setAttribute("title","下载"),Ce.setAttribute("class","closeImg"),Ce.style.right="200px",Ce.onclick=function(){if(fe.lastChild instanceof HTMLImageElement){var e=fe.lastChild.src,t=document.createElement("a");t.setAttribute("download",e),t.setAttribute("href",e),t.setAttribute("target","_blank"),t.click()}},be.innerText="-",be.setAttribute("title","缩小"),be.setAttribute("class","closeImg"),be.style.right="150px",be.onmousedown=function(){de(),he&&clearInterval(he),he=setInterval(de,200)},be.onmouseup=function(){he&&clearInterval(he)},we.innerText="+",we.setAttribute("title","放大"),we.setAttribute("class","closeImg"),we.style.right="100px",we.onmousedown=function(){Ee(),me&&clearInterval(me),me=setInterval(Ee,200)},we.onmouseup=function(){me&&clearInterval(me)},ye.innerText="x",ye.setAttribute("title","关闭"),ye.setAttribute("class","closeImg"),ye.onclick=function(){fe.lastChild instanceof HTMLImageElement&&(fe.removeChild(fe.lastChild),fe.style.display="none",ge.style.display="none",xe.style.display="none",ke.style.display="none",se())},ve.innerText="r",ve.setAttribute("class","closeImg"),ve.style.right="50px",ve.setAttribute("title","复原"),ve.onclick=function(){fe.lastChild instanceof HTMLImageElement&&(fe.lastChild.style.padding="0px",Te&&(fe.lastChild.style.width=Te+"px"))},ge.setAttribute("class","mask"),fe.appendChild(Ce),fe.appendChild(be),fe.appendChild(we),fe.appendChild(ve),fe.appendChild(ye),fe.setAttribute("class","imgContainer"),fe.onclick=se,window.addEventListener("scroll",se),document.body.appendChild(ge),document.body.appendChild(fe);var Ie=document.createElement("div"),Ae=document.createElement("div"),xe=document.createElement("div"),ke=document.createElement("div");function Ee(){var e=fe.lastChild,t=oe(e);e.style.width=t+le(e)+"px"}function De(e){var t=document.createElement("div");t.setAttribute("class","oneComment");var n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");a.innerText=e.username||"匿名",a.setAttribute("class","commentUsername"),r.innerText=(e.create_time||formatDate(new Date))+" #"+e.floor,r.setAttribute("class","commentTime"),i.innerText=e.comment_content,i.setAttribute("class","commentSection"),n.appendChild(a),n.appendChild(r),t.appendChild(n),t.appendChild(i),$e.appendChild(t)}function Se(){Me.innerText="共 "+_e+" 条评论"}Ie.innerText="-",Ae.innerText="+",Ie.style.opacity=Ae.style.opacity=0,Ie.style.borderRadius="5px 0 0 5px",Ae.style.borderRadius="0 5px 5px 0",Ie.style.marginLeft="-1px",Ae.style.marginRight="-1px",Ie.setAttribute("class","scaleDiv"),Ae.setAttribute("class","scaleDiv"),Ie.setAttribute("title","缩小图像"),Ae.setAttribute("title","放大图像"),xe.innerText="←",ke.innerText="→",xe.setAttribute("title","上一张"),ke.setAttribute("title","下一张"),xe.setAttribute("class","changeImg"),ke.setAttribute("class","changeImg"),ke.style.right="0",xe.style.display="none",ke.style.display="none",xe.onclick=function(){ue(!0)},ke.onclick=function(){ue(!1)},Ie.onclick=function(e){de(),ce(e,!1)},Ae.onclick=function(e){Ee(),ce(e,!0)},document.body.appendChild(Ie),document.body.appendChild(Ae),document.body.appendChild(xe),document.body.appendChild(ke),$("#container figure>img").each(function(){var e=$(this);e.attr("title","点击放大"),e.click(function(){var t=document.createElement("img");t.setAttribute("class","tmpImg"),t.setAttribute("title","点击右键打开缩放菜单"),t.setAttribute("src",e.attr("src")),fe.style.display=ge.style.display="block",t.oncontextmenu=function(e){return pe&&clearTimeout(pe),Ie.style.display=Ae.style.display="block",Ie.style.opacity=Ae.style.opacity=1,Ae.style.left=e.pageX+"px",Ie.style.left=e.pageX-50+"px",Ie.style.top=Ae.style.top=e.pageY+"px",e.preventDefault(),e.returnValue=!1,!1},xe.style.display="",ke.style.display="",fe.appendChild(t),setTimeout(function(){Te=oe(t),t.style.width=Te+"px"},0),t.style.padding="0px"})}),function(){var e=$("#catalogFrame img");e.length&&e.click(function(){var e=$(this).next().next();void 0!==e&&"DIV"===e.prop("tagName").toUpperCase()&&e.toggle(500)});var t=$("table");t.length&&(t.attr({border:1,cellpadding:1,cellspacing:0}),t.each(function(){$(this).parent().css("overflow","auto")}))}(),$(".different, .definition").click(function(){var t=$(this),n=t.attr("has-searched"),a=t.text();n||$.ajax({method:"GET",url:"http://47.102.208.48:8082/api/search/",data:{keyword:a,access_token:"1b3f5b75ffbb73abc4f717d1bb17eaadae9127f8a35466cd721c9ac"},dataType:"json",success:function(n){if(n.items.length>0){t.attr("has-searched","true");var r=n.items.filter(function(e){return!e.is_ad}),i=document.createElement("div"),o=document.createElement("div"),l=document.createElement("span");l.innerText="✘",l.setAttribute("class","searchResultClose"),l.onclick=function(e){t.empty(),t.text(a),t.removeAttr("has-searched"),e.stopPropagation()},o.innerText="相关搜索",i.appendChild(l),o.style.textAlign="center",i.setAttribute("title","点击关闭"),i.appendChild(o),i.setAttribute("class","differentSearch");for(var s=0;s<r.length;s++){var c=document.createElement("div"),d=document.createElement("a");c.appendChild(d),d.setAttribute("href",r[s].href),d.setAttribute("title",r[s].description),d.setAttribute("target","_blank"),d.onclick=function(e){e.stopPropagation()},d.innerHTML=r[s].title,i.appendChild(c)}t.append(i),$(i).fadeIn()}else e.info({content:"查无相关内容"})},error:function(){e.info({type:"error",content:"查询出错"})}})});var _e=0,Me=document.createElement("div");Me.setAttribute("class","commentListLength"),Se(),h.append(Me);var $e=document.createElement("div");h.append($e);var Ne=document.createElement("div");Ne.setAttribute("class","oneComment");var Re=document.createElement("div"),Le=document.createElement("textarea"),Oe=document.createElement("div"),je=document.createElement("button"),Be=document.createElement("button"),He=document.createElement("input"),Ue=document.createElement("button");He.setAttribute("type","text"),He.setAttribute("placeholder","若为空，则表示匿名评论"),He.setAttribute("class","appendCommentUsername"),Ue.innerText="随机取名",Ue.setAttribute("class","button"),Ue.onclick=function(){He.value=getChineseName()},Re.setAttribute("class","commentSection"),Re.innerText="用户名：",Re.appendChild(He),Re.appendChild(Ue),Le.style.width="100%",Le.style.borderRadius="5px",Le.setAttribute("rows","10"),Oe.style.textAlign="center",je.innerText="评论",je.setAttribute("class","button button-primary"),je.onclick=function(){""===Le.value.trim()?e.info({content:"请选择填写内容再评论",type:"warning"}):$.ajax({type:"POSt",url:"/index.php/note/Comment/addComment",dataType:"json",data:{article:o,username:He.value,content:Le.value},success:function(t){t.status?(De(t.comment),Le.value="",e.info({content:"添加评论成功！"}),_e++,Se()):e.info({content:t.message||"添加评论失败",type:"error"})},error:function(t){e.info({content:"无法进行评论",type:"error"})}})},Be.innerText="清空",Be.onclick=function(){Le.value=""},Be.setAttribute("class","button"),Oe.appendChild(je),Oe.appendChild(Be),Ne.appendChild(Re),Ne.appendChild(Le),Ne.appendChild(Oe),h.append(Ne),$.ajax({type:"GET",url:"/index.php/note/Comment/getCommentList",data:{article:o},dataType:"json",success:function(e){e.forEach(De),_e=e.length,Se()}})});