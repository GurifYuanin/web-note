<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Case解决方案</title>
  <link rel="stylesheet" href="../../css/normalize.css">
  <link rel="stylesheet" href="../../css/styles/agate.css">
  <link rel="stylesheet" href="../../css/dark.css">
  <script src="../../js/highlight.pack.js"></script>
  <script src="../../js/index.min.js"></script>
</head>

<body>
  <div id="sidebar">
    <h2 id="catalog">
      <img id="hideCatalog" src="../../images/catalog.png" alt="加载失败">
      目录
    </h2>
  </div>
  <div id="showCatalog">
    <img src="../../images/arrow.png">
  </div>
  <div id="container">
    <hgroup>
      <h1 id="title">Case解决方案</h1>
    </hgroup>
    <section>
      <h2>CDN 容灾</h2>
      <p>
        如果 CDN 服务器挂掉了，无法加载依赖库导致页面加载不出来，要怎么预防与解决。
        <h3>静态加载的脚本</h3>
        <p>
          脚本执行完之后，通过 onerror 事件或者 window.Xxx 检查是否顺利挂载，若检查不到，则添加 script 标签从主域（或另一个 CDN 服务器）拉取资源。
          <pre><code class="html">
&lt;!-- 方式一 --&gt;
&lt;script
  src="https://cdn.jsdelivr.net/npm/vue@2.7.14"
  type="text/javascript"
  onerror="document.write('\x3Cscript type=\"text/javascript\" src=\"https://unpkg.com/vue@2.7.14/dist/vue.js\" retry>\x3C/script>')"
&gt;&lt;/script&gt;

&lt;!-- 方式二 --&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/vue@2.7.14"&gt;&lt;/script&gt;
&lt;script&gt;
  if (!window.Vue) {
    document.write('\x3Cscript type="text/javascript" src="https://unpkg.com/vue@2.7.14/dist/vue.js" retry>\x3C/script>')
  }
&lt;/script&gt;
          </code></pre>
        </p>
      </p>
    </section>
    <section class="refer">
      <h2>参考文献</h2>
      <p>
      <div>[1] 标题 <a href="链接">链接</a></div>
      </p>
    </section>
  </div>
</body>

</html>