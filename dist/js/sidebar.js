hljs&&hljs.initHighlightingOnLoad(),$(function(){var e=document.createElement("meta");function i(e){return'<a href="'+("没有了"===e?"javascript:void(0)":"./"+e+".html")+'">'+e+"</a>"}function o(e,t){return"a"===t?i(e):"<"+t+">"+e+"</"+t+">"}function n(e){return e=e||window,{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function a(e,t){"返回顶部"!==e&&e?t?t.animate({scrollTop:$("#"+e).offset().top-100},500):f.animate({scrollTop:$("#"+e).offset().top},500):f.animate({scrollTop:0},500)}e.setAttribute("name","viewport"),e.setAttribute("content","width=device-width, initial-scale=1"),$("head")[0].appendChild(e);for(var t=window.location.href,s=decodeURI(t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."))),c=$("#sidebar"),r=$("#hideCatalog"),l=$("#showCatalog"),d=$("#catalog"),u=$("#title"),h=$("#container"),f=$("html, body"),p=["HTML","CSS","Javascript","NodeJS","VueJS","移动Web","工具","协议","安全","后端","其他"],g=[["DOM","meta标签","href和src","link","script","HTML语义化","HTML5","canvas","svg"],["选择器","盒式模型","元素种类","元素定位","元素居中","伪类伪元素","格式化上下文","CSS Hack","CSS3","CSS怪异现象","颜色和长度","百分比"],["数据类型","数组字符串与对象","循环","作用域链","原型链","闭包","事件","同源策略","Class","JSONP","this","jquery","promise","Generator","async","Typescript"],["commonJS","package.json","path","file system","process","webpack","plugins","loader"],["安装","实例","模版","组件","mixins","router","vuex"],["响应式布局","bootstrap","viewport"],["抓包工具","chrome devtools","git","sublime 插件"],["HTTP"],["CSRF","XSS"],["Thinkphp5.1","htaccess"],["路径匹配","浏览器渲染","设计策略","cookie","头疼的兼容","命名规范","字符编码","bat"]],m="",v=0;v<p.length;v++){m+=o('<img src="../images/slide_down.png">'+p[v],"h3");for(var y=0,b="";y<g[v].length;y++)b+="<div"+(g[v][y]===s?' id="currentItem" ':"")+">"+i(g[v][y])+"</div>";m+=o(b,"section")}c.append(m),d.append('<section id="searchContainer"><input id="searchInput" type="text" placeholder="搜索文章"/><section id="searchResult"></section></section>');var k=$("#searchInput"),w=$("#searchResult"),T=0;w.css("display","none"),k.keyup(function(e){var i=k.val(),n="";if(i=i||" ",g.forEach(function(e){e.forEach(function(e){var t=new RegExp(i,"i");t.test(e)&&(n+=o(e.replace(t,"<span>"+e.match(t)+"</span>"),"li"))})}),""===i.trim()||""===n.trim()?w.css("display","none"):(e.keyCode<37||40<e.keyCode)&&13!==e.keyCode&&(w.css("display","block"),w.html(n),$("#searchResult li").each(function(){$(this).click(function(){window.open("./"+this.innerText+".html")})})),""!==n.trim()){var t=$("#searchResult li");switch(e.keyCode){case 13:var a=t.toArray().findIndex(function(e){return"rgb(239, 239, 239)"===e.style.backgroundColor});-1===a?t.eq(0).click():t.eq(a).click();break;case 37:break;case 38:0<T&&T--,T<t.length&&t.eq(T).css("background-color",""),0<T&&t.eq(T-1).css("background-color","#efefef");break;case 39:break;case 40:0<T&&t.eq(T-1).css("background-color",""),T<t.length&&(t.eq(T).css("background-color","#efefef"),T++);break;default:T=0}}}),h.click(function(){w.css("display","none")});var x=!0,C="../images/slide_down.png",I="../images/slide_down_dark.png",E=$("#sidebar h3");E.each(function(){var e=$(this),t=e.children();e.click(function(){t.attr("src")===C||t.attr("src")===I?t.attr("src",x?"../images/slide_up.png":"../images/slide_up_dark.png"):t.attr("src",x?C:I),e.next().slideToggle("slow")})});var S=n().width/3;u.after('<svg title="点击切换样式" style="display: block; margin: auto; width:'+S+'px" xmlns="http://www.w3.org/2000/svg" version="1.1" height="1px"><path id="line" d="M 0 0 L '+S+' 0" style="stroke: #000; stroke-dasharray: '+S+"; stroke-dashoffset: "+S+'; fill: none;"/></svg>');var q=$("#line");u.mouseover(function(){u.animate({"padding-top":"1%","padding-bottom":"1%"},"fast"),q.animate({"stroke-dashoffset":0},"fast")}),u.mouseout(function(){u.animate({"padding-top":"0","padding-bottom":"0"},"fast"),q.animate({"stroke-dashoffset":S},"fast")});var H=document.createElement("textarea"),O=document.createElement("div");O.setAttribute("class","notify"),O.style.opacity="0",H.style.display="none",document.body.appendChild(H),document.body.appendChild(O);var _=null;$(".hljs").each(function(e,t){var i=document.createElement("div"),n=document.createElement("div");i.setAttribute("class","codeType"),n.setAttribute("class","codeCopy"),n.setAttribute("title","点击复制代码"),i.innerText=t.getAttribute("class").split(" ")[0],n.style.right=8*i.innerText.length+(10-i.innerText.length)+"px",n.onclick=function(){var e=t.innerText.substring(1,t.innerText.lastIndexOf("\n"));window.clipboardDate?window.clipboardDate.setData(e):(H.style.display="inline-block",H.value=e,H.select(),document.execCommand("copy"),H.style.display="none"),O.innerText="已经复制到剪切板",O.style.opacity="1",_&&clearTimeout(_),_=setTimeout(function(){$(O).animate({opacity:0},"slow",function(){O.innerText=""})},2e3)},t.appendChild(i),t.appendChild(n)});var A=$("link").eq(2),L=$("link").eq(1),M=$("#sidebar h3 img"),R=$("#hideCatalog");function j(e,t,i,n){var a,o,s=(t-e)/i,c=1e3*n/i;e<t?(a=4,o=1/i):(a=5,o=-1/i);for(var r=e,l=0;r!==t;r+=s,a+=o,l+=c)!function(){var e=r+"%",t="0 "+a+"%";setTimeout(function(){h.css({width:e,margin:t})},l)}();setTimeout(function(){a+=o,h.css({width:t+"%",margin:"0 "+a+"%"})},1e3*n)}function D(e){return e.replace(/[\s$@#&;()/.]/g,"")}u.click(function(){A.attr("href",x?"../css/dark.css":"../css/bright.css"),L.attr("href",x?"../css/styles/agate.css":"../css/styles/default.css"),q.css("stroke",x?"#fff":"#000"),R.attr("src",x?"../images/catalog_dark.png":"../images/catalog.png"),M.each(function(e,t){var i=t.src;t.src=x?i.substring(0,i.lastIndexOf("."))+"_dark.png":i.substring(0,i.lastIndexOf("_"))+".png"}),$("a").each(function(e,t){t.href=x?t.href+"?theme=dark":t.href.replace("?theme=dark","")}),$(".codeCopy").toggleClass("codeDark"),x=!x}),0<=t.indexOf("?theme=dark")&&u.click(),r.attr("title","点击隐藏侧栏"),r.click(function(e){c.animate({width:"0",padding:"0"},"slow",function(){c.css("display","none"),l.css("display","block")}),j(65,90,25,1),e.stopPropagation(),window.event.cancelBubble=!0}),l.attr("title","点击显示侧栏"),l.click(function(){var e,t=n().width;t<400?(t="100%",e="0"):(t="25%",e="1%"),c.css("display","inline-block"),l.css("display","none"),c.animate({width:t,padding:e},"slow"),j(90,65,20,.5)}),$("a").not(".self").attr("target","_blank");var P=$("#container>section>h2"),J="",W="";for(v=1;v<=4;v++)W+='<div class="block'+v+'"></div>';W='<div id="subTitleToggle">'+W+"</div>";var N=decodeURI(t.substring(t.indexOf("#")+1));N=N.replace(/\?theme=(dark)|(bright)/,""),P.each(function(){var e=D(this.innerHTML);$(this).wrap('<a style="height: 50%; margin: 0; padding: 0; text-decoration: none; color: #000;" id="'+e+'" href="#'+e+'"></a>'),$(this).click(function(){a(e)}),this.innerHTML===N&&$(this).click(),J+='<div class="subTitleItem">'+this.innerHTML+"</div>"}),J='<div id="subTitleNav">'+J+'<div class="subTitleItem">返回顶部</div></div>',$("body").append(J+W);var z=$(".subTitleItem"),B=$("#subTitleToggle"),F=$("#subTitleToggle div");z.each(function(){var t=D(this.innerHTML);$(this).click(function(e){a(t)})});var U=!1,V=!1,X=50,G=100;function Y(){U=!0;for(var t=0,i=0;i<z.length;i++,t+=X)!function(){var e=i;setTimeout(function(){z.eq(e).fadeOut(100)},t)}();for(i=0;i<F.length;i++,t+=G)!function(){var e=i;setTimeout(function(){F.eq(e).show("fast")},t)}();setTimeout(function(){U=!1},z.length*X+F.length*G),V=!1}B.attr("title","点击显示子标题导航"),B.click(function(e){var t=0;for(v=F.length;0<=v;v--,t+=G)!function(){var e=v;setTimeout(function(){F.eq(e).hide("fast")},t)}();for(v=z.length-1;0<=v;v--,t+=X)!function(){var e=v;setTimeout(function(){U||z.eq(e).fadeIn(100)},t)}();V=!0,e.stopPropagation(),window.event.cancelBubble=!0}),document.body.onclick=Y;var K=!0;$(window).scroll(function(){var e=$(this).scrollTop(),t=$(document).height();e+$(this).height()===t?(B.stop().hide("slow"),K=!0):K&&(B.stop().show("slow"),K=!1),V&&Y()});var Q="没有了",Z="没有了",ee=0;if("index"===s)Z=g[0][0];else{var te=[];g.forEach(function(e){e.forEach(function(e){te.push(e)})}),0!==(ee=te.indexOf(s))&&(Q=te[ee-1]),ee!==te.length-1&&(Z=te[ee+1])}Q=i(Q),Z=i(Z),$(".refer").after('<div id="footer" ><div class="prePage">上一篇：'+Q+'</div><div class="nextPage">下一篇：'+Z+"</div></div>"),g.forEach(function(e,t){-1===e.indexOf(s)&&E.eq(t).click()}),"index"!==s&&setTimeout(function(){a("currentItem",c);var e=$("#currentItem > a");e.animate({"font-size":"1.25rem","font-weight":900},1e3,function(){e.animate({"font-size":"1rem","font-weight":"bold"},1e3)})},500);var ie=document.createElement("div"),ne=document.createElement("div");ne.style.position="relative",ie.style.position="fixed",ne.style.top=ie.style.top="0",ne.style.right=ie.style.right="0",ne.style.bottom=ie.style.bottom="0",ne.style.left=ie.style.left="0",ie.style.opacity=".8",ie.style.backgroundColor="#000",ne.style.display=ie.style.display="none",ne.style.overflow="auto",document.body.appendChild(ie),document.body.appendChild(ne),$("#container figure>img").each(function(){var t=$(this);t.attr("title","点击放大"),t.click(function(){var e=document.createElement("img");e.style.position="fixed",e.style.left="50%",e.style.top="50%",e.style.maxWidth="100%",e.style.maxHeight="100%",e.style.transform="translateX(-50%) translateY(-50%)",e.style.cursor="pointer",e.setAttribute("title","点击关闭"),e.setAttribute("src",t.attr("src")),ne.style.display=ie.style.display="block",e.onclick=function(){ne.removeChild(e),ne.style.display="none",ie.style.display="none"},ne.appendChild(e)})}),$("#catalogFrame img").click(function(){var e=$(this).next().next();console.dir(e),void 0!==e&&"DIV"===e.prop("tagName")&&e.toggle(500)}),$("table").attr({border:1,cellpadding:1,cellspacing:0}),$("table").each(function(){$(this).parent().css("overflow","auto")})});