hljs&&hljs.initHighlightingOnLoad&&hljs.initHighlightingOnLoad(),$(function(){var t=document.createElement("meta");function i(t){return'<a href="'+("没有了"===t?"javascript:void(0)":"./"+t+".html")+'">'+t+"</a>"}function s(t,e){return"a"===e?i(t):"<"+e+">"+t+"</"+e+">"}function n(t){return t.replace(/[\s$@#&;()/.'"]/g,"")}function d(t){return t=t||window,{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function a(t,e){"返回顶部"!==t&&t?e?e.animate({scrollTop:$("#"+t).offset().top-100},500):f.animate({scrollTop:$("#"+t).offset().top},500):f.animate({scrollTop:0},500)}t.setAttribute("name","viewport"),t.setAttribute("content","width=device-width, initial-scale=1"),$("head")[0].appendChild(t);for(var e=window.location.href,o=decodeURI(e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."))),c=$("#sidebar"),l=$("#hideCatalog"),r=$("#showCatalog"),u=$("#catalog"),p=$("#title"),h=$("#container"),f=$("html, body"),m=["HTML","CSS","Javascript","NodeJS","VueJS","移动Web","工具","协议","安全","后端","其他"],g=[["DOM","meta标签","href和src","link","script","HTML语义化","HTML5","canvas","svg"],["选择器","盒式模型","元素种类","元素定位","元素居中","伪类伪元素","格式化上下文","CSS Hack","CSS3","CSS怪异现象","颜色和长度","百分比"],["数据类型","数组字符串与对象","循环","作用域链","原型链","闭包","事件","复制粘贴","RegExp","Class","JSONP","this","jquery","promise","Generator","async","Typescript"],["commonJS","package.json","path","file system","process","webpack","plugins","loader"],["安装","实例","模版","组件","mixins","router","vuex"],["响应式布局","bootstrap","viewport"],["抓包工具","chrome devtools","git","sublime 插件"],["HTTP","同源策略"],["CSRF","XSS"],["Thinkphp5.1","htaccess"],["路径匹配","浏览器渲染","设计策略","cookie","头疼的兼容","命名规范","字符编码","算法规范","bat"]],y="",v=0;v<m.length;v++){y+=s('<img src="../images/slide_down.png">'+m[v],"h3");for(var b=0,k="";b<g[v].length;b++)k+="<div"+(g[v][b]===o?' id="currentItem" ':"")+">"+i(g[v][b])+"</div>";y+=s(k,"section")}c.append(y),u.append('<section id="searchContainer"><input id="searchInput" type="text" placeholder="搜索文章"/><section id="searchResult"></section></section>');var x=$("#searchInput"),w=$("#searchResult"),T=0;w.css("display","none"),x.keyup(function(t){var i=x.val(),n="";if(i=i||" ",g.forEach(function(t){t.forEach(function(t){var e=new RegExp(i,"i");e.test(t)&&(n+=s(t.replace(e,"<span>"+t.match(e)+"</span>"),"li"))})}),""===i.trim()||""===n.trim()?w.css("display","none"):(t.keyCode<37||40<t.keyCode)&&13!==t.keyCode&&(w.css("display","block"),w.html(n),$("#searchResult li").each(function(){$(this).click(function(){window.open("./"+this.innerText+".html")})})),""!==n.trim()){var e=$("#searchResult li");switch(t.keyCode){case 13:var a=e.toArray().findIndex(function(t){return"rgb(239, 239, 239)"===t.style.backgroundColor});-1===a?e.eq(0).click():e.eq(a).click();break;case 37:break;case 38:0<T&&T--,T<e.length&&e.eq(T).css("background-color",""),0<T&&e.eq(T-1).css("background-color","#efefef");break;case 39:break;case 40:0<T&&e.eq(T-1).css("background-color",""),T<e.length&&(e.eq(T).css("background-color","#efefef"),T++);break;default:T=0}}}),h.click(function(){w.css("display","none")});var C=!0,I="../images/slide_down.png",E="../images/slide_down_dark.png",A=$("#sidebar h3");A.each(function(){var t=$(this),e=t.children();t.click(function(){e.attr("src")===I||e.attr("src")===E?e.attr("src",C?"../images/slide_up.png":"../images/slide_up_dark.png"):e.attr("src",C?I:E),t.next().slideToggle("slow")})});var M=d().width/3;p.after('<svg title="点击切换样式" style="display: block; margin: auto; width:'+M+'px" xmlns="http://www.w3.org/2000/svg" version="1.1" height="1px"><path id="line" d="M 0 0 L '+M+' 0" style="stroke: #000; stroke-dasharray: '+M+"; stroke-dashoffset: "+M+'; fill: none;"/></svg>');var S=$("#line");p.mouseover(function(){p.animate({"padding-top":"1%","padding-bottom":"1%"},"fast"),S.animate({"stroke-dashoffset":0},"fast")}),p.mouseout(function(){p.animate({"padding-top":"0","padding-bottom":"0"},"fast"),S.animate({"stroke-dashoffset":M},"fast")});var H=document.createElement("textarea"),L=document.createElement("div");L.setAttribute("class","notify"),L.style.opacity="0",H.style.display="none",document.body.appendChild(H),document.body.appendChild(L);var q=null;$(".hljs").each(function(t,e){var i=document.createElement("div"),n=document.createElement("div");i.setAttribute("class","codeType"),n.setAttribute("class","codeCopy"),n.setAttribute("title","点击复制代码");var a=e.getAttribute("class").split(" ")[0];i.innerText=a,n.style.right=8*i.innerText.length+(10-i.innerText.length)+"px",n.onclick=function(){window.clipboardData instanceof DataTransfer?window.clipboardData.setData("text",e.innerText.replace(a,"")):(H.style.display="inline-block",H.value=e.innerText.substring(1,e.innerText.lastIndexOf("\n")),H.select(),document.execCommand("copy"),H.style.display="none"),L.innerText="已经复制到剪切板",L.style.opacity="1",q&&clearTimeout(q),q=setTimeout(function(){$(L).animate({opacity:0},"slow",function(){L.innerText=""})},2e3)},e.appendChild(i),e.appendChild(n)});var O=$("link").eq(2),R=$("link").eq(1),_=$("#sidebar h3 img"),D=$("#hideCatalog");function N(t,e,i,n){var a,s,o=(e-t)/i,c=1e3*n/i;t<e?(a=4,s=1/i):(a=5,s=-1/i);for(var l=t,r=0;l!==e;l+=o,a+=s,r+=c)!function(){var t=l+"%",e="0 "+a+"%";setTimeout(function(){h.css({width:t,margin:e})},r)}();setTimeout(function(){a+=s,h.css({width:e+"%",margin:"0 "+a+"%"})},1e3*n)}p.click(function(){O.attr("href",C?"../css/dark.css":"../css/bright.css"),R.attr("href",C?"../css/styles/agate.css":"../css/styles/default.css"),S.css("stroke",C?"#fff":"#000"),D.attr("src",C?"../images/catalog_dark.png":"../images/catalog.png"),_.each(function(t,e){var i=e.src;e.src=C?i.substring(0,i.lastIndexOf("."))+"_dark.png":i.substring(0,i.lastIndexOf("_"))+".png"}),$("a").each(function(t,e){e.href=C?e.href+"?theme=dark":e.href.replace("?theme=dark","")}),$(".codeCopy").toggleClass("codeDark"),C=!C}),0<=e.indexOf("?theme=dark")&&p.click(),l.attr("title","点击隐藏侧栏"),l.click(function(t){c.animate({width:"0",padding:"0"},"slow",function(){c.css("display","none"),r.css("display","block")}),N(65,90,25,1),t.stopPropagation(),window.event.cancelBubble=!0}),r.attr("title","点击显示侧栏"),r.click(function(){var t,e=d().width;e<400?(e="100%",t="0"):(e="25%",t="1%"),c.css("display","inline-block"),r.css("display","none"),c.animate({width:e,padding:t},"slow"),N(90,65,20,.5)}),$("a").not(".self").attr("target","_blank");var W=$("#container>section>h2"),j="",P="";for(v=1;v<=4;v++)P+='<div class="block'+v+'"></div>';P='<div id="subTitleToggle">'+P+"</div>";var J=decodeURI(e.substring(e.indexOf("#")+1));J=J.replace(/\?theme=(dark)|(bright)/,""),W.each(function(){var t=n(this.innerHTML);$(this).wrap('<a style="height: 50%; margin: 0; padding: 0; text-decoration: none; color: #000;" id="'+t+'" href="#'+t+'"></a>'),$(this).click(function(){a(t)}),this.innerHTML===J&&$(this).click(),j+='<div class="subTitleItem">'+this.innerHTML+"</div>"}),j='<div id="subTitleNav">'+j+'<div class="subTitleItem">返回顶部</div></div>',$("body").append(j+P);var B=$(".subTitleItem"),X=$("#subTitleToggle"),V=$("#subTitleToggle div");B.each(function(){var e=n(this.innerHTML);$(this).click(function(t){a(e)})});var z=!1,F=!1,U=50,Y=100;function G(){z=!0;for(var e=0,i=0;i<B.length;i++,e+=U)!function(){var t=i;setTimeout(function(){B.eq(t).fadeOut(100)},e)}();for(i=0;i<V.length;i++,e+=Y)!function(){var t=i;setTimeout(function(){V.eq(t).show("fast")},e)}();setTimeout(function(){z=!1},B.length*U+V.length*Y),F=!1}X.attr("title","点击显示子标题导航"),X.click(function(t){var e=0;for(v=V.length;0<=v;v--,e+=Y)!function(){var t=v;setTimeout(function(){V.eq(t).hide("fast")},e)}();for(v=B.length-1;0<=v;v--,e+=U)!function(){var t=v;setTimeout(function(){z||B.eq(t).fadeIn(100)},e)}();F=!0,t.stopPropagation(),window.event.cancelBubble=!0}),document.body.onclick=G;var K=!0;$(window).scroll(function(){var t=$(this).scrollTop(),e=$(document).height();t+$(this).height()===e?(X.stop().hide("slow"),K=!0):K&&(X.stop().show("slow"),K=!1),F&&G()});var Q="没有了",Z="没有了",tt=0;if("index"===o)Z=g[0][0];else{var et=[];g.forEach(function(t){t.forEach(function(t){et.push(t)})}),0!==(tt=et.indexOf(o))&&(Q=et[tt-1]),tt!==et.length-1&&(Z=et[tt+1])}Q=i(Q),Z=i(Z),$(".refer").after('<div id="footer" ><div class="prePage">上一篇：'+Q+'</div><div class="nextPage">下一篇：'+Z+"</div></div>"),g.forEach(function(t,e){-1===t.indexOf(o)&&A.eq(e).click()}),"index"!==o&&setTimeout(function(){a("currentItem",c);var t=$("#currentItem > a");t.animate({"font-size":"1.25rem","font-weight":900},1e3,function(){t.animate({"font-size":"1rem","font-weight":"bold"},1e3)})},500);var it=document.createElement("div"),nt=document.createElement("div"),at=document.createElement("div"),st=document.createElement("div"),ot=null;at.innerText="x",at.setAttribute("title","关闭"),at.setAttribute("class","closeImg"),at.onclick=function(){nt.lastChild instanceof HTMLImageElement&&(nt.removeChild(nt.lastChild),nt.style.display="none",it.style.display="none",pt())},st.innerText="r",st.setAttribute("class","closeImg"),st.style.right="50px",st.setAttribute("title","复原"),st.onclick=function(){nt.lastChild instanceof HTMLImageElement&&(nt.lastChild.style.padding="0px",ot&&(nt.lastChild.style.width=ot+"px"))},it.setAttribute("class","mask"),nt.appendChild(at),nt.appendChild(st),nt.setAttribute("class","imgContainer"),nt.onclick=pt,window.addEventListener("scroll",pt),document.body.appendChild(it),document.body.appendChild(nt);var ct=document.createElement("div"),lt=document.createElement("div");ct.innerText="-",lt.innerText="+",ct.style.opacity=lt.style.opacity=0,ct.style.borderRadius="5px 0 0 5px",lt.style.borderRadius="0 5px 5px 0",ct.style.marginLeft="-1px",lt.style.marginRight="-1px",ct.setAttribute("class","scaleDiv"),lt.setAttribute("class","scaleDiv"),ct.setAttribute("title","缩小图像"),lt.setAttribute("title","放大图像");var rt=null;function dt(t){var e=window.getComputedStyle?getComputedStyle(t).width:t.currentStyle.width;return 0===(e=Number.parseInt(e))?t.clientWidth||t.scrollWidth||t.offsetWidth:e}function ut(t){return t?t.naturaWidth?.2*t.naturaWidth:.2*dt(t):50}function pt(){ct.style.opacity=lt.style.opacity=0,rt&&clearTimeout(rt),rt=setTimeout(function(){ct.style.display=lt.style.display="none"},1e3)}function ht(t,e){var i=nt.lastChild;if(i instanceof HTMLImageElement&&t){var n=d(),a=n.height/2-t.clientY,s=n.width/2-t.clientX;a=e?a/2:Math.sqrt(a),s=e?s/2:Math.sqrt(s);var o=Number.parseInt(i.style.paddingLeft),c=Number.parseInt(i.style.paddingRight),l=Number.parseInt(i.style.paddingTop),r=Number.parseInt(i.style.paddingBottom);e?o+=s-c:o-=s-c,e?c-=s:c+=s,e?r+=a-l:r-=a-l,e?l+=a:l-=a,i.style.paddingLeft=Math.max(o,0)+"px",i.style.paddingRight=Math.max(c,0)+"px",i.style.paddingTop=Math.max(l,0)+"px",i.style.paddingBottom=Math.max(r,0)+"px"}}ct.onclick=function(t){var e=nt.lastChild,i=dt(e);e.style.width=i-ut(e)+"px",ht(t,!1)},lt.onclick=function(t){var e=nt.lastChild,i=dt(e);e.style.width=i+ut(e)+"px",ht(t,!0)},document.body.appendChild(ct),document.body.appendChild(lt),$("#container figure>img").each(function(){var e=$(this);e.attr("title","点击放大"),e.click(function(){var t=document.createElement("img");t.setAttribute("class","tmpImg"),t.setAttribute("title","点击右键打开缩放菜单"),t.setAttribute("src",e.attr("src")),nt.style.display=it.style.display="block",t.oncontextmenu=function(t){return rt&&clearTimeout(rt),ct.style.display=lt.style.display="block",ct.style.opacity=lt.style.opacity=1,lt.style.left=t.pageX+"px",ct.style.left=t.pageX-50+"px",ct.style.top=lt.style.top=t.pageY+"px",t.preventDefault(),t.returnValue=!1},nt.appendChild(t),ot=dt(t),t.style.width=ot+"px",t.style.padding="0px"})}),$("#catalogFrame img").click(function(){var t=$(this).next().next();console.dir(t),void 0!==t&&"DIV"===t.prop("tagName")&&t.toggle(500)}),$("table").attr({border:1,cellpadding:1,cellspacing:0}),$("table").each(function(){$(this).parent().css("overflow","auto")})});